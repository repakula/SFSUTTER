<apex:page sidebar="false"  docType="html-5.0" applyHtmlTag="true" controller="AQRSCRMController1" standardStylesheets="false" tabStyle="AQRS_CRM__tab">
    <html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}
    body{font-size:12px !important;}
    /*----------------JQ Table style ----------------------------*/
    .dataTable tbody th, table.table-bordered.dataTable tbody td {
    border-bottom-width: 0;
    border: 0px !important;
    border-left: 1px solid #ccc !important;
    }
    .pagination li{margin-left:0px !important;}
    .dataTables_length{margin-top:10px !important;}
    div.dataTables_wrapper div.dataTables_length select {width: 54px !important;display: inline-block;padding: 0px !important;
    border: 1px solid #ccc !important;border-radius: 4px !important;height: 30px !important;}
    .dataTables_length{float:left !important;}
    div.dataTables_wrapper div.dataTables_filter input {
    margin-left: 0.5em;border-top-left-radius: 4px !important;
    border-bottom-left-radius: 4px !important;border: 1px solid #ddd !important; padding-left: 10px !important;transition: all 0.1s linear !important; 
    padding: 6px 12px !important;box-shadow: inset 0 1px 1px rgba(0,0,0,.075) !important;height:30px !important;}
    th, td { white-space: nowrap; }
    div.dataTables_wrapper {
    margin: 0 auto;
    }
    /*----------------JQ Table style ----------------------------*/
    .Show_morefields1,.Show_morefields11{cursor:pointer;position:absolute;left:19%;top:44px;Z-index:999;}
    .Show_morefields2,.Show_morefields22{cursor:pointer;position:absolute;left:19%;top:44px;Z-index:999;}
    a:hover.Show_morefields1{text-decoration:none;}
    a:hover.Show_morefields2{text-decoration:none;}
    a:hover.Show_morefields11{text-decoration:none;}
    a:hover.Show_morefields22{text-decoration:none;}
    select[multiple], select[size] {
    height: auto;
    min-height: 280px;
    }
    .fieldsselct option{padding:6px 4px 6px 4px;}
    div.dataTables_scrollBody thead {
    vertical-align: top;
    display: table-header-group !important;
    }
    .tableclass{
    overflow-x: auto !important;
    border:1px solid black;
    white-space: nowrap; 
    }
    #example_wrapper>.row{overflow-x:auto !important;}
    #gapsincare_wrapper>.row{overflow-x:auto !important;}
    /* style for CRM Search tab start here*/
    .pagination{float:right !important;}
    .left-arrow {margin-top: 0px !important;margin-left:-14px !important;background: #E9E9E9 !important;border: none !important;color:#000 !important;}
    .left-arrow:hover {margin-top: 0px !important;margin-left: -14px !important;background: #E9E9E9 !important;border: none !important;color:#000 !important;}
    .right-arrow {margin-top: 0px !important;margin-left: -30px !important;background-color: #E9E9E9 !important;border: none !important;color:#000 !important;}
    .right-arrow:hover {margin-top: 0px !important;background-color: #E9E9E9 !important;border: none !important;color:#000 !important;}
    .form-group {
    margin-bottom: 5px !important;
    }
    .tabledesign{min-height:220px !important;}
    .arrowmenuicons{padding:0px;}
    button.btn{height:30px !important;border-radius:4px !important;padding: 4px 12px !important;}
    .panel-body{padding:0px !important;}
    .fcontainerbox{margin-bottom:-10px !important;}
    .panel-body input{height:30px !important;}
    .nav-tabs { padding-bottom:0px !important;}
    .tab-content { padding-top:0px !important;}
    .planingtable h3{padding-top:16px !important;margin-top: 0px !important;}
    .tabledisplay h3{padding-top:16px !important;margin-top: 0px !important;}
    .panel-login {
    border-color: #ccc;
    -webkit-box-shadow: 0px 2px 3px 0px rgba(0,0,0,0.2);
    -moz-box-shadow: 0px 2px 3px 0px rgba(0,0,0,0.2);
    box-shadow: 0px 2px 3px 0px rgba(0,0,0,0.2);
    }
    .panel-login>.panel-heading {
    color: #00415d;
    background-color: #fff;
    border-color: #fff;
    text-align:center;
    }
    .panel-login>.panel-heading a{
    text-decoration: none;
    color: #30b2b1;
    font-weight: normal;
    font-size: 12px;
    -webkit-transition: all 0.1s linear;
    -moz-transition: all 0.1s linear;
    transition: all 0.1s linear;
    }
    .panel-login>.panel-heading a.active{
    color: #30b2b1;
    font-size: 15px;
    border: 1px solid #30b2b1;
    padding: 4px 6px 4px 6px;
    border-radius: 4px;
    }
    .panel-login>.panel-heading hr{
    margin-top: 32px;
    margin-bottom: 0px;
    clear: both;
    border: 0;
    height: 1px;
    background-image: -webkit-linear-gradient(left,rgba(0, 0, 0, 0),rgba(0, 0, 0, 0.15),rgba(0, 0, 0, 0));
    background-image: -moz-linear-gradient(left,rgba(0,0,0,0),rgba(0,0,0,0.15),rgba(0,0,0,0));
    background-image: -ms-linear-gradient(left,rgba(0,0,0,0),rgba(0,0,0,0.15),rgba(0,0,0,0));
    background-image: -o-linear-gradient(left,rgba(0,0,0,0),rgba(0,0,0,0.15),rgba(0,0,0,0));
    }
    .panel-login input[type="text"],.panel-login input[type="email"],.panel-login input[type="password"] {
    height: 45px;
    border: 1px solid #ddd;
    font-size: 16px;
    -webkit-transition: all 0.1s linear;
    -moz-transition: all 0.1s linear;
    transition: all 0.1s linear;
    }
    .panel-heading {padding: 10px 0px 10px 0px !important;}
    .panel-login input:hover,
    .panel-login input:focus {
    outline:none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
    border-color: #ccc;
    }
    .btn-login {
    background-color: #59B2E0;
    outline: none;
    color: #fff;
    font-size: 14px;
    height: auto;
    font-weight: normal;
    padding: 14px 0;
    text-transform: uppercase;
    border-color: #59B2E6;
    }
    .btn-login:hover,
    .btn-login:focus {
    color: #fff;
    background-color: #53A3CD;
    border-color: #53A3CD;
    }
    .forgot-password {
    text-decoration: underline;
    color: #888;
    }
    .forgot-password:hover,
    .forgot-password:focus {
    text-decoration: underline;
    color: #666;
    }
    .btn-register {
    background-color: #1CB94E;
    outline: none;
    color: #fff;
    font-size: 14px;
    height: auto;
    font-weight: normal;
    padding: 14px 0;
    text-transform: uppercase;
    border-color: #1CB94A;
    }
    .btndesign {background:#30b2b1 !important;}
    .searchbtn{background:#30b2b1 !important;}
    .planingtable{margin-top:10px !important;}
    .planingtable h5{margin-top:10px !important;}
    .btn-register:hover,
    .btn-register:focus {
    color: #fff;
    background-color: #1CA347;
    border-color: #1CA347;
    }
    .tabsetpadding{padding:0px;}
    /* style for CRM Search tab closed here*/
    .addfields_left{width:47%;float:left;}
    .addfields_right{width:47%;float:right;}
    .Rightandleft_btn{width:6%;float:left;}
    .nav-tabs {
    padding-bottom:0px; 
    }
    .nav-tabs {
    border-bottom: 0px solid #ddd !important;
    }
    .bodycontainer{padding-top:0px !important ;}
    .tab-content{padding-top:0px !important ;}
    .panel-body {
    padding: 15px;
    height: auto;
    overflow: visible;
    overflow-y: auto;
    }
    .searchbox {padding:5px 15px 5px 15px !important;background: #E9E9E9 !important;}
    .buttonalign{background: #E9E9E9 !important;}
    .panel{border:0px solid #fff !important;}
    .arrowvalue{margin-left:-50px !important;}
    .table>thead:first-child>tr:first-child>th{font-size:12px !important;}
    .dataTables_scrollHeadInner{width:100% !important;}
    .dataTables_scrollBody{width:100% !important;}
    div.dataTables_scrollHead table.dataTable { margin-bottom: 0 !important; width: 100% !important;}
    div.dataTables_scrollBody>table {border-top: none;margin-top: 0 !important;margin-bottom: 0 !important;width: 100% !important;}
    @media only screen and (max-width:767px) {
    .Show_morefields1{cursor:pointer;position:absolute;left:60%;top:42px;Z-index:999;}
    .Show_morefields2{cursor:pointer;position:absolute;left:60%;top:42px;Z-index:999;}
    a:hover.Show_morefields1{text-decoration:none;}
    a:hover.Show_morefields2{text-decoration:none;}
    .searchbox {padding:5px 15px 5px 15px !important;background: #E9E9E9;}
    .tabledesign{padding-left:0px !important;padding-right:0px !important;}
    .panel-heading {padding: 10px 0px 10px 0px !important;}
    .panel-login>.panel-heading a.active { color: #30b2b1;font-size: 12px;border: 0px solid #30b2b1; padding: 0px 0px 6px;border-radius: 4px;
    border-bottom: 1px solid #30b2b1 !important;}
    .panel-login>.panel-heading hr {margin-top: 30px;margin-bottom: 0px;clear: both;border: 0;height: 1px;
    background-image: -webkit-linear-gradient(left,rgba(0, 0, 0, 0),rgba(0, 0, 0, 0.15),rgba(0, 0, 0, 0));}
    #no-more-tables tr td {
    padding-left: 50% !important;
    }
    .div.dataTables_wrapper{margin-top:10px !important;}
    div.dataTables_wrapper div.dataTables_filter input {
    margin-left: 0.5em;border-top-left-radius: 4px !important;
    border-bottom-left-radius: 4px !important;border: 1px solid #ddd !important; padding-left: 10px !important;transition: all 0.1s linear !important; 
    padding: 6px 12px !important;box-shadow: inset 0 1px 1px rgba(0,0,0,.075) !important;height:30px !important;width:80% !important;}
    .table>thead:first-child>tr:first-child>th{font-size:12px !important;}
    /* Force table to not be like tables anymore */
    #no-more-tables table,head,tbody,th,td,tr {
    display: block;padding:0px !important;
    }
    #filterhide{padding-left:0px !important;padding-right:0px !important;}
    thead tr {
    display: none;
    }
    table{border:0px solid #ccc !important;}
    tr {
    border: 1px solid #ccc;  margin: 0px 0px 10px 0px;
    }
    td {
    border: none;
    border-bottom:1px solid #eee !important;
    position: relative;
    padding-left: 50% !important;
    white-space: normal;
    text-align:left;
    min-height: 30px;
    overflow: hidden;
    word-break:break-all;
    } 
    td:before {
    position: absolute;
    top: 6px;
    left: 6px;
    width: 45%;
    padding-right: 10px;
    text-align:left;
    font-weight: bold;
    }
    td:before { content: attr(data-title); }
    }
    @media (min-width: 768px)
    {
    .modal-dialog {width: 750px !important; margin: 30px auto;}
    }
    /* STYLE SHEET FOR MULTIPLE SELECT OPTION  */
    .show-tick{min-height:auto !important;height:auto !important;}
    .multiselect-container li{margin-left:0px !important;}
    .multiselect {margin-top:0px !important;
    background: #30b2b1 !important;border-color: #30b2b1 !important;color:#fff;}
    span.multiselect-native-select {
    position: relative
    }
    span.multiselect-native-select select {
    border: 0!important;
    clip: rect(0 0 0 0)!important;
    height: 1px!important;
    margin: -1px -1px -1px -3px!important;
    overflow: hidden!important;
    padding: 0!important;
    position: absolute!important;
    width: 1px!important;
    left: 50%;
    top: 30px
    }
    .multiselect-container {
    position: absolute;
    list-style-type: none;
    margin: 0;
    padding:0px 5px 0px 0px !important;
    }
    .multiselect-container .input-group {
    margin: 5px
    }
    .multiselect-container>li {
    padding: 0
    }
    .multiselect-container>li>a.multiselect-all label {
    font-weight: 700
    }
    .multiselect-container>li.multiselect-group label {
    margin: 0;
    padding: 3px 20px 3px 20px;
    height: 100%;
    font-weight: 700
    }
    .multiselect-container>li.multiselect-group-clickable label {
    cursor: pointer
    }
    .multiselect-container>li>a {
    padding: 0
    }
    .multiselect-container>li>a>label {
    margin: 0;
    height: 100%;
    cursor: pointer;
    font-weight: normal;
    padding: 3px 0 3px 20px;
    font-size:11px !important;
    }
    .multiselect-container>li>a>label.radio, .multiselect-container>li>a>label.checkbox {
    margin: 0
    }
    .multiselect-container>li>a>label>input[type=checkbox] {
    margin-bottom: 5px;width:1em !important;
    margin-top:-8px !important;margin-left:-16px !important;
    }
    .btn-group>.btn-group:nth-child(2)>.multiselect.btn {
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px
    }
    .form-inline .multiselect-container label.checkbox, .form-inline .multiselect-container label.radio {
    padding: 3px 20px 3px 40px
    }
    .form-inline .multiselect-container li a label.checkbox input[type=checkbox], .form-inline .multiselect-container li a label.radio input[type=radio] {
    margin-left: -20px;
    margin-right: 0
    }
    .calendar_class
    {height: 26px !important;padding: 2px 12px !important;font-size: 14px;line-height: 1.42857143;color: #555;background-image: none;
    border: 1px solid #ccc;border-radius: 4px 0px 0px 4px;transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;width:39%;
    }
    .ui-datepicker-trigger{ vertical-align: middle; margin-bottom: 4px; border-radius: 0px 4px 4px 0px; background: #eee;
    border-right: 1px solid #ccc; border-bottom: 1px solid #ccc;border-top: 1px solid #ccc;padding:2px;}
    input:focus {outline:none !important;}
    .input-group{width:50%;}
    .dataCol {width:100%;}
    .dataCol  select{width:250px !important;border:1px solid red;}
    .dataCol td{border:0px solid #ccc !important;}
    td{border:0px solid #ccc !important;}
    #unselected_list td{border:0px solid #ccc !important;}
    #example span, #gapsincare span{display:none !important;}
    .searchCell {display:none !important;}
    .addFieldButton:hover{color:#000 !important;}
    .addFieldButton{color:#000 !important;margin-left:5px !important;width:24px;}
    #errorList{padding:0px;margin:0px;} 
     #errorList li{list-style-type:circle;margin-left:20px !important;text-align: left !important;} 
    /* STYLE SHEET FOR MULTIPLE SELECT OPTION END  */
    </style>
    <script> 
    $(document).ready(function(){
    // alert();
    $("#registerformlink").click(function(){
    $("#GIC_Show_Fields").show();
    $("#PVP_Show_Fields").hide();
    });
    $("#loginformlink").click(function(){
    $("#GIC_Show_Fields").hide();
    $("#PVP_Show_Fields").show();
    });
    });
    $(function() {
    var url = window.location.href; 
    /* alert(url);
    var protocol = location.protocol;
    var slashes = protocol.concat("//");
    var host = slashes.concat(window.location.hostname);
    var my_url= host+"/apex/AQRSCRMLandingPage";
    alert(my_url);

    if(url==my_url) { */
    //if(/GIC/.test(loc)) { 
    /* $("#login-form").delay(100).fadeIn(100);
    $("#register-form").fadeOut(100);
    $("#secondtable").hide(100);
    $("#Previsitplanning").show(100);
    document.getElementById("secondtable").style.display="none";
    document.getElementById("Previsitplanning").style.display="block";
    $(".Pre_VisitPlanning").show(100);
    $(".Gaps_inCare").hide(100);
    $('.pvp_activeTab').addClass('active');
    $('.gic_activeTab').removeClass('active');
    $(this).addClass('active');
    e.preventDefault();
    }*/
    // window.history.pushState('/apex/AQRSCRMLandingPage', 'Title', '/apex/AQRSCRMLandingPage?GIC');
    var loc = window.location.href; 
    //alert(loc);
    if(/GIC/.test(loc)) { 
    //alert();
    $("#GIC_Show_Fields").show();
    $("#PVP_Show_Fields").hide();
    $("#register-form").delay(100).fadeIn(100);
    $("#login-form").fadeOut(100);
    $("#Previsitplanning").hide(100);
    $("#secondtable").show(100);
    document.getElementById("secondtable").style.display="block";
    document.getElementById("Previsitplanning").style.display="none";
    $(".Gaps_inCare").show(100);
    $(".Pre_VisitPlanning").show(100);
    $('.pvp_activeTab').removeClass('active');
    $('.gic_activeTab').addClass('active');
    $(this).addClass('active');
    e.preventDefault();

    }

    else{
    $("#login-form").delay(100).fadeIn(100);
    $("#register-form").fadeOut(100);
    $("#secondtable").hide(100);
    $("#Previsitplanning").show(100);
    document.getElementById("secondtable").style.display="none";
    document.getElementById("Previsitplanning").style.display="block";
    $(".Pre_VisitPlanning").show(100);
    $(".Gaps_inCare").hide(100);
    $('.pvp_activeTab').addClass('active');
    $('.gic_activeTab').removeClass('active');
    $(this).addClass('active');
    e.preventDefault();
    }


    });
    function preAjaxData(){
    window.history.pushState('/apex/AQRSCRMLandingPage', 'Title', '/apex/AQRSCRMLandingPage?PVP');
    var url = window.location.href; 
    // alert(url);
    if(/PVP/.test(url)) { 
    $("#login-form").delay(100).fadeIn(100);
    $("#register-form").fadeOut(100);
    $("#secondtable").hide(100);
    $("#Previsitplanning").show(100);
    document.getElementById("secondtable").style.display="none";
    document.getElementById("Previsitplanning").style.display="block";
    $(".Pre_VisitPlanning").show(100);
    $(".Gaps_inCare").hide(100);
    $('.pvp_activeTab').addClass('active');
    $('.gic_activeTab').removeClass('active');
    $(this).addClass('active');
    e.preventDefault();
    }
    }
    function processAjaxData(){
    window.history.pushState('/apex/AQRSCRMLandingPage', 'Title', '/apex/AQRSCRMLandingPage?GIC');
    var loc = window.location.href; 
    //alert(loc);
    if(/GIC/.test(loc)) { 
    $("#register-form").delay(100).fadeIn(100);
    $("#login-form").fadeOut(100);
    $("#Previsitplanning").hide(100);
    $("#secondtable").show(100);
    document.getElementById("secondtable").style.display="block";
    document.getElementById("Previsitplanning").style.display="none";
    $(".Gaps_inCare").show(100);
    $(".Pre_VisitPlanning").show(100);
    $('.pvp_activeTab').removeClass('active');
    $('.gic_activeTab').addClass('active');
    $(this).addClass('active');
    e.preventDefault();

    }
    }
    /*       $(function() {
    window.history.pushState('/apex/AQRSCRMLandingPage', 'Title', '/apex/AQRSCRMLandingPage?GIC');
    var loc = window.location.href; 
    alert(loc);
    if(/GIC/.test(loc)) { 
    $("#register-form").delay(100).fadeIn(100);
    $("#login-form").fadeOut(100);
    $("#Previsitplanning").hide(100);
    $("#secondtable").show(100);
    document.getElementById("secondtable").style.display="block";
    document.getElementById("Previsitplanning").style.display="none";
    $(".Gaps_inCare").show(100);
    $(".Pre_VisitPlanning").show(100);
    $('.pvp_activeTab').removeClass('active');
    $('.gic_activeTab').addClass('active');
    $(this).addClass('active');
    e.preventDefault();

    }

    });*/

    $('#loginformlink').click(function(e) {
    $("#login-form").delay(100).fadeIn(100);
    $("#register-form").fadeOut(100);
    $("#secondtable").hide(100);
    $("#Previsitplanning").show(100);
    document.getElementById("secondtable").style.display="none";
    document.getElementById("Previsitplanning").style.display="block";
    $(".Pre_VisitPlanning").show(100);
    $(".Gaps_inCare").hide(100);
    $('#registerformlink').removeClass('active');
    $(this).addClass('active');
    e.preventDefault();


    });
    $('#registerformlink').click(function(e) {
    $("#register-form").delay(100).fadeIn(100);
    $("#login-form").fadeOut(100);
    $("#Previsitplanning").hide(100);
    $("#secondtable").show(100);
    document.getElementById("secondtable").style.display="block";
    document.getElementById("Previsitplanning").style.display="none";
    $(".Gaps_inCare").show(100);
    $(".Pre_VisitPlanning").show(100);
    $('#loginformlink').removeClass('active');
    $(this).addClass('active');
    e.preventDefault();


    });
    function myFunction() {
        
        var parentUl = document.getElementById("errorList");
          parentUl.innerHTML ='';
           $(".errorClass").css({"border-color":"#ccc"});
      var errorForFromDate = false;
      var remindate = $("[id$='fromDate']").val();
      var errorFortoDate = false;
      var error = false;
      var now = new Date();
        var day = ("0" + now.getDate()).slice(-2);
        var month = ("0" + (now.getMonth() + 1)).slice(-2);
        var today = now.getFullYear()+"-"+(month)+"-"+(day) ;

        /*if(($("[id$='fromDate']").val() == '' || $("[id$='fromDate']").val() == undefined) && type == 'fromDate')
           {            
                $("[id$='fromDate']").css({"border-color":"red"});
                
                error = true;
            }*/
            if((remindate<today && remindate !='') )
            {    
                 $("[id$='fromDate']").css({"border-color":"red"});
                errorForFromDate = true;              
            }
            if($("[id$='toDate']").val() != '' && $("[id$='toDate']").val()<today)
           {            
                $("[id$='toDate']").css({"border-color":"red"});
                
                errorFortoDate = true;
            }
            
             if(errorForFromDate ==true || errorFortoDate ==true)
            {
               var childli = document.createElement("li");
                childli.appendChild(document.createTextNode("Please provide future date"));
                parentUl.appendChild(childli);
                
                return false;
                 
            }
            if($("[id$='toDate']").val() < $("[id$='fromDate']").val())
            {
            var childli = document.createElement("li");
                childli.appendChild(document.createTextNode("From Date cannot be greater than To Date"));
                parentUl.appendChild(childli);
                
                return false;
            }
            

    } 
    function addField()
        {
           
           $('#availablePanel option:selected').remove().appendTo('#selectedPanel');
           
        }
        function removeField()
        {
           
           $('#selectedPanel option:selected').remove().appendTo('#availablePanel');
           
        }
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <apex:stylesheet value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/bootstrap.min.css')}"/>
    <apex:Stylesheet value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/bootstrap-datepicker.min.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/fixedColumns.dataTables.min.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/dataTables.bootstrap.min.css')}"/>
    <!--<apex:stylesheet value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/site.css')}"/> -->
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/jquery-1.12.4.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/bootstrap.min.js.download')}"/>
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/jquery.dataTables.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/dataTables.bootstrap.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/dataTables.fixedColumns.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/AQRSCRM_date-uk.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/main.js')}"/>
    <apex:includeScript value="{!$Resource.Bootstrap_multipleSelect}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
    window.onload = function() {
    jQuery('input[type=text]').blur();
    };
    </script>
    </head>
    <apex:form >
    <body class="">
    <div class="clear" style="clear:both;"></div>
    <!-- BEGIN # MODAL LOGIN -->
    <div class="modal fade" id="Addmorefields-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <!-- TD
    display fields should be tab and store in custom Settings and Tag to respective login user   -->
    <div class="modal-dialog">
    <div class="modal-content">
    <div class="modal-header" align="center">
    <span id="PVP_Show_Fields"><h5><b>View More Fields from Pre-Visit Planning Table</b></h5></span>
    <span id="GIC_Show_Fields" style="display:none;"><h5><b>View More Fields from Gaps In Care Table</b></h5></span>

    <span><button type="button" style="float:right;">
    <span class="glyphicon glyphicon-remove" aria-hidden="true" onclick="hidePopup();"></span>
    </button></span>
    </div>
    <!-- Begin # DIV Form -->
    <div id="div-forms">
    <!-- Begin # Login Form -->
    <div class="modal-body">
    <apex:panelGrid columns="3" id="displayFieldPanel">
    <apex:panelGroup >
    <b>Available Fields</b><br/>   
    <apex:selectList label="Available Fields" id="availablePanel" required="false"
    value="{!selected}" multiselect="true" size="15"  style="width:303px">
    <apex:selectOptions value="{!unSelectedOptions}"/>
    </apex:selectList>
    </apex:panelGroup>
    <apex:panelGroup >
    <p style="clear:both;"></p>
    <br/><br/>
    <apex:commandButton value=">>" onclick="addField();return false;" style="width:24px;"  styleClass="btn btndesign addFieldButton"
    reRender="availablePanel,selectedPanel"/>
    <br/>
    <apex:commandButton value="<<" onclick="removeField();return false;" style="width:24px;"  styleClass="btn btndesign addFieldButton"
    reRender="availablePanel,selectedPanel"/>
    </apex:panelGroup>
    <apex:panelGroup >
    <b>Selected Fields</b><br/>
    <apex:selectList label="Selected Fields" id="selectedPanel" required="false"
    value="{!unselected}" multiselect="true" size="15"  style="width:303px">
    <apex:selectOptions value="{!selectedOptions}"/>
    </apex:selectList>
    </apex:panelGroup>
    <apex:PanelGroup >
    <!-- <apex:commandButton action="{!save}" value="Submit" id="theSubmitButton" style="float:right;margin-top:15px;"/>
    <apex:commandButton action="{!cancel}" value="Cancel" id="theCancelButton" onclick="window.top.close();" style="float:right;margin-top:15px;"/>
    <apex:commandButton value="Cancel" id="theCancelButton" onclick="window.top.close();" style="float:right;margin-top:15px;"/>-->
    </apex:PanelGroup>
    </apex:panelGrid>
    <!-- <apex:iframe src="/apex/AQRSShowMoreFieds" scrolling="true" height="360px" width="100%" /> -->
    <!--<apex:commandLink value="Submit" action="{!setDisplayFields}" target="_parent" styleClass="btn" style="text-decoration:none;padding:4px;"/>-->
    </div>
    <div class="modal-footer">
    <apex:commandLink value="Submit" action="{!setDisplayFields}"  rerender="PatinetPVPList,pvvDatatable" oncomplete="hidePopup();"  styleClass="btn searchbtn" style="text-decoration:none;padding:4px;"/>
    <apex:commandLink value="Cancel"  id="theCancelButton" rerender="PatinetPVPList,pvvDatatable" onclick="hidePopup();"  styleClass="btn searchbtn" style="text-decoration:none;padding:4px;" />
    <div>
    </div>
    </div>
    <!-- End # Login Form -->
    <!-- End # DIV Form -->
    </div>
    </div>
    </div>
    </div>
    <div class="container body-content" style="padding-left:0px;padding-right:0px;">
    <script type="text/javascript">
    var urlPrefix = window.location.href;
    var UpdatedBy = "RamachP";
    </script>
    <form action="http://dcdwweb025:8871/" method="post">
    <div class="bodycontainer ng-scope" ng-app="myApp" ng-controller="HomeCtrl" id="GridGrid" style="padding-top:0px;">
    <div class="bodycontainer">
    <ul class="nav nav-tabs">
    </ul>
    <div class="tab-content">
    <div id="home" class="tab-pane fade active in">
    <!-- active -->
    <div class="row" style="margin-top:8px">
    <div class="col-md-12 tabledesign">
    <div class="col-md-3 searchbox" id="searchboxid">
    <div class="fcontainerbox">
    <div id="accordion" class="panel-group">
    <div class="panel panel-default">
    <div class="panel panel-login">
    <div class="panel-heading">
    <div class="col-md-12">
    <div class="col-md-6 col-sm-6 col-xs-6" style="padding:0px !important;">
    <a href="#" class="pvp_activeTab" id="loginformlink" onclick="preAjaxData();">Pre-Visit Planning </a><!-- active -->
    </div>
    <div class="col-md-6 col-sm-6 col-xs-6" style="padding:0px !important;">
    <a href="#" class="gic_activeTab" id="registerformlink" onclick="processAjaxData();">Gaps In Care</a>
    </div>
    </div>
    <br/>
        <ul id="errorList" style="color:red;float:left;margin-top:6px;">
        </ul>
        <div style="clear:both;"></div>
    <hr/>
    </div>
    <div class="panel-body">
    <div class="col-md-12">
    <div id="" >
    <apex:outputPanel id="panel1">
    <div class="form-group Pre_isitPlanning ">
    <label>Foundation </label>
    <apex:inputText value="{!filterWrap.foundation}" styleClass="form-control" html-readonly="true" />
    </div>
    <div class="form-group Pre_isitPlanning">
    <label>Facility </label>
    <apex:selectList value="{!filterWrap.lstFacilities}" multiselect="true" size="3" styleClass="form-control show-tick">
    <apex:selectOptions value="{!facilities}" />
    <apex:actionSupport event="onchange" action="{!actionUpdatePicklistVals}" rerender="panel1,scriptPanel" />
    </apex:selectList>
    <!--<apex:selectList size="1" id="facilities" multiselect="true" styleClass="multiselect-ui form-control show-tick" onblur="assignDegreeLevel(this.value);">
    <apex:selectOptions value="{!filterWrap.lstFacilities}"/>
    </apex:selectList>-->
    </div>
    <!--<apex:actionFunction name="assignDegreeLevel" action="{!providerAttributeValues}" reRender="divisions">
    <apex:param name="strFaci" assignTo="{!strFaci}" value=""/>
    </apex:actionFunction> -->
    <div class="form-group Pre_isitPlanning">
    <label>Division </label>
    <apex:selectList value="{!filterWrap.lstDivision}" multiselect="true" size="3" styleClass="form-control show-tick">
    <apex:selectOptions value="{!divisions}" />
    <apex:actionSupport event="onchange" action="{!actionUpdatePicklistVals}" rerender="panel1,scriptPanel" />
    </apex:selectList>
    <!--<apex:selectList id="divisions" size="2" required="true" multiselect="true" styleClass="multiselect-ui1 form-control show-tick">
    <apex:selectOptions value="{!filterWrap.lstDivision}"/>
    </apex:selectList>-->
    </div>
    
    <div class="form-group Pre_isitPlanning">
    <label>Department </label>
    <apex:selectList value="{!filterWrap.lstDepartment}" multiselect="true" size="3" styleClass="form-control show-tick">
    <apex:selectOptions value="{!department}" />
    <apex:actionSupport event="onchange" action="{!actionUpdatePicklistVals}" rerender="panel1,scriptPanel" />
    </apex:selectList>
    <!--<apex:selectList id="department" size="2" required="true" multiselect="true" styleClass="multiselect-ui2 form-control show-tick">
    <apex:selectOptions value="{!filterWrap.lstDepartment}"/>
    </apex:selectList>-->
    </div>
    <div class="form-group Pre_isitPlanning">
    <label>Provider </label>
    <apex:selectList value="{!filterWrap.lstProvider}" multiselect="true" size="3" styleClass="form-control show-tick">
    <apex:selectOptions value="{!provider}" />
    <apex:actionSupport event="onchange" action="{!actionUpdatePicklistVals}" rerender="panel1,scriptPanel" />
    </apex:selectList>
    <!--<apex:selectList id="provider" size="2" required="true" multiselect="true" styleClass="multiselect-ui3 form-control show-tick">
    <apex:selectOptions value="{!filterWrap.lstProvider}"/>
    </apex:selectList>-->
    </div>
    <div class="form-group Pre_isitPlanning">
    <label>Measure </label>
    <apex:selectList id="measures" value="{!filterWrap.lstMeasure}" size="3" multiselect="true" styleClass="form-control show-tick">
    <apex:selectOptions value="{!measures}"/>
    </apex:selectList>
    </div>
    <div class="form-group Pre_isitPlanning">
    <label>Patient </label>
    <apex:inputText styleClass="form-control"  id="pvp_Patient" />
    </div>
    <div class="form-group Pre_isitPlanning ">
    <label>Patient MRN </label>
    <input type="text" class="form-control" />
    </div>
    <div class="form-group Pre_isitPlanning">
    <label>Population </label>
    <apex:selectList id="population" value="{!filterWrap.lstPopulation}" size="3" multiselect="true" styleClass="form-control show-tick">
    <apex:selectOptions value="{!population}"/>
    </apex:selectList>
    </div>
    
    <!-- <div class="form-group Gaps_inCare" style="display:none;">
    <label>Payer </label>
    <select class="form-control show-tick">
    <option>-- none--</option>
    <option>MEDICARE</option>
    <option>BLUE CROSS</option>
    <option>UNITED MEDICARE SOLUTIONS</option>
    <option>BLUESHIELD</option>
    </select>
    </div> -->
    <div class="form-group Pre_isitPlanning">
    <label>Date Range </label>
    <!--   <div class="input-group input-daterange">
    <input type="text" value=""  readonly="true" 
    class="errorClass calendar_class" id="fromDate" />
    <div class="input-group-addon">to</div>
    <input type="text" value=""  readonly="true" 
    class="errorClass calendar_class" id="toDate" />
    </div> -->
    <div style="width:100%">
    <span style="width:50%;">
    <!--  <input type="text" value=""  readonly="true" 
    class="errorClass calendar_class" id="fromDate" /> -->
    <apex:input type="date" value="{!fromDate}"  id="fromDate" style="width:45%;" styleclass="errorClass"/>


    </span>
    <span>To</span>
    <span style="width:50%;">
    <!--  <input type="text" value=""  readonly="true" 
    class="errorClass calendar_class" id="toDate" /> -->
    <apex:input type="date" value="{!toDate}"  id="toDate" style="width:45%;" styleclass="errorClass"/>
    </span>
    </div>
    </div>
    </apex:outputPanel>
    </div>
    <!--  <div id="register-form"> </div>  -->
    </div>
    </div>
    </div>
    <div class="buttonalign btnaligndpt">
    <div style="width:220px;margin:auto;">
    <apex:commandLink styleClass="btn btndesign" onclick="return myFunction();" style="margin-top:5px;" value="Search"    />
    <!-- ng-click="OnSearchClick()" -->
    <apex:commandLink styleClass="btn btndesign" style="margin-top:5px;" value="Reset"  action="{!resetFilters}" rerender="panel1"/>
    <!--<button  class="btn btndesign " style="margin-top:5px;" onclick="window.location.reload();">Reset</button>-->
    <!-- ng-click="OnResetClick()" -->
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="col-md-9 col-sm-9 col-xs-12 spacing1 arrowmenuicons">
    <!-- <img  id="hide" src="images/arrowleft.png"  border="0" alt="" title="Hide filters" style="margin-left:-37px !important;">
    <img id="show" style="display:none;" src="images/arrowright.png"  border="0" alt="" title="Show filters">-->
    <button type="button" class="btn btn-default btn-sm left-arrow" id="hide">
    <span class="glyphicon glyphicon-chevron-left"></span> Hide Filters
    </button>
    <button type="button" class="btn btn-default btn-sm right-arrow" id="show" style="display:none;">
    Show Filters<span class="glyphicon glyphicon-chevron-right"></span>
    </button>
    <!-- <p class="left-arrow" id="hide" ></p> -->
    </div>
    <apex:outputPanel id="PatinetPVPList">
    <div class="col-md-9 col-xs-12" id="filterhide" >
    <div id="no-more-tables">
    <div>
    <!-- style="overflow-x:scroll" -->
    <div class="spacing1" id="mygrid" style="width:100% !important;">
    <div class="planingtable" id="Previsitplanning" style="clear:both;">
    <h5><b>Pre-Visit Planning</b></h5>
    <div>
    <!--<a onclick="exportTableToCSV('Patients.csv')" style="text-decoration: none;cursor: pointer;position:absolute;right:39px;top:0px;">
    Export  To CSV</a>-->
    <apex:commandlink action="{!createCSVPVP}" value="Export To CSV" style="text-decoration: none;cursor: pointer;position:absolute;right:39px;top:0px;"/>
    <div style="clear:both"></div >
    </div>
    <table id="example" class="table-bordered table-striped table-condensed cf" cellspacing="0" width="100%">
    <apex:commandlink action="{!fetchDisplayFields}"  value="Select Display Fields" styleClass="Show_morefields1" oncomplete="showPopup();" rerender="displayFieldPanel"/>
    <!--<a class="Show_morefields1" data-toggle="modal" data-target="#Addmorefields-modal">Select Display Fields</a>-->
    <thead class="grdidhead cf">
    <tr width="100%" id="fields_selected">
    <th>Outreached</th>
    <th>Patient Name</th>
    <th>Patient MRN</th>
    <th>Patient DOB</th>

    <th data-orderable="false" >Gender</th><!--<apex:outputLabel value="Gender" rendered="{!PATIENT_GENDER}"></apex:outputLabel>-->
    <th data-orderable="false" >Preferred Communication Method</th>
    <th data-orderable="false" >Email Address</th>
    <th data-orderable="false" >Home Phone</th>
    <th data-orderable="false" >Possible Actions Needed</th>
    <th data-orderable="false" >Provider Name</th>
    <th data-orderable="false" >Measure Name</th>
    <th data-orderable="false" >Next Appointment Type</th>
    <apex:repeat value="{!setPVPSelected}" var="pvpValue">
    <th data-orderable="false" >{!pvpValue}</th>
    </apex:repeat>    
    </tr>
    </thead>
    <tbody>
    <apex:repeat value="{!recievedpatientPVPList}" var="resPVP">
    <tr width="100%" id="fields_data"  >
    <td data-title="Outreached"><apex:outputText value="{!resPVP.outReached}"/></td>
    <td data-title="Patient Name"><apex:outputText value="{!resPVP.patient_name}" /></td>
    <td data-title="Patient MRN"><a href="/apex/tst_AQRS_Comm_Log?patinet_MRNID={!URLENCODE(resPVP.patient_mrn)}&tab_active=PVP">{!resPVP.patient_mrn}</a></td>
    <td data-title="Patient DOB">
    <span>
    <apex:outputText value="{0,date,YYYYMMDD}">
    <apex:param value="{!resPVP.patient_dob}" />
    </apex:outputText>
    </span>
    <apex:outputText value="{0,date,MM/dd/yyyy}">
    <apex:param value="{!resPVP.patient_dob}" />
    </apex:outputText>
    </td>
    <td data-title="Patient Gender" ><apex:outputText value="{!resPVP.patient_gender}" /></td>
    <td data-title="Preferred Communication Method" ><apex:outputText value="{!resPVP.preferred_communication_method}" /></td>
    <td data-title="Email address" ><apex:outputText value="{!resPVP.email_address}" /></td>
    <td data-title="patient Homephone" ><apex:outputText value="{!resPVP.patient_home_phone}" /></td>
    <td data-title="Possible Actions Needed"  ><apex:outputText value="{!resPVP.possible_actions_needed}" /></td>
    <td data-title="Provider Name"  ><apex:outputText value="{!resPVP.provider_ID}" /></td>
    <td data-title="Measure Name"  ><apex:outputText value="{!resPVP.measure_Name}" /></td>    
    <td data-title="Next Appointment Type"  ><apex:outputText value="{!resPVP.next_appointment_type}" /></td>
    
    <apex:repeat value="{!setPVPSelected}" var="pvpValue">
    
    <td data-title="{!pvpValue}" ><apex:outputText value="{!resPVP[mapPVPSelected[pvpValue]]}" /></td>
    </apex:repeat> 
    </tr>
    </apex:repeat>
    </tbody>
    </table>
    </div>
    <div style="clear:both;"></div>
    <div class="tabledisplay planingtable" id="secondtable" style="display:none;">
    <h5><b>Gaps In Care</b></h5>
    <div>
    <!-- <a onclick=" exportTableToCSVGapsinCare('PatientsinGapsinCare.csv')" style="text-decoration: none;cursor: pointer;position:absolute;right:39px;top:0px;">
    Export  To CSV</a>-->
    <apex:commandlink action="{!createCSV}" value="Export To CSV" style="text-decoration: none;cursor: pointer;position:absolute;right:39px;top:0px;"/>
    <div style="clear:both"></div >
    </div>
    <table id="gapsincare" class="table-bordered table-striped table-condensed cf" cellspacing="0" width="100%">
    <apex:commandlink action="{!fetchDisplayFields}"  value="Select Display Fields" styleClass="Show_morefields1" oncomplete="showPopup();" rerender="availablePanel,selectedPanel"/>
    <!-- <a class="Show_morefields1" data-toggle="modal" data-target="#Addmorefields-modal">Select Display Fields</a>-->
    <!-- <a class="Show_morefields22" id="gichidefields" style="display:none;">Hide Fields</a> -->
   <thead class="grdidhead cf">
    <tr width="100%" id="gicfields_selected">
    <th>Outreached</th>
    <th width="100%">Patient Name</th>
    <th>Patient MRN</th>
    <th>DOB</th>
    <th data-orderable="false" >Gender</th><!--<apex:outputLabel value="Gender" rendered="{!PATIENT_GENDER}"></apex:outputLabel>-->
    <th data-orderable="false" >Preferred Communication Method</th>
    <th data-orderable="false" >Email Address</th>
    <th data-orderable="false" >Home Phone</th> 
    <th data-orderable="false" >Possible Actions Needed</th>
   <th data-orderable="false" >Provider Name</th>
    <th data-orderable="false" >Measure Name</th>
    <th data-orderable="false" >Next Appointment Type</th>
    
    <th data-orderable="false" id="GICthLastAppointmentDate" >Last Appointment Date</th>
    <th data-orderable="false" id="GICthNextAppointmentDate">Next Appointment Date</th>
    <th data-orderable="false" id="GICthHCCGaps">HCC Gaps</th>   
    <th data-orderable="false" id="GICthPayor">Payer</th>
    <th data-orderable="false" id="GICthAddress">Address</th>
    <th data-orderable="false" id="GICthRace" >Race</th>  

    <th data-orderable="false" id="GICthTotalGaps">Total Gaps</th>
    <th data-orderable="false" id="GICthLastAWVDate" >Last AWV Date</th>
    <th data-orderable="false" id="GICthNextAppointmentProvider">Next Appointment Provider</th>
    <th data-orderable="false" id="GICthNextAppointmentTime">Next Appointment Time</th>
    <th data-orderable="false" id="GICthPopulation">Population</th>
    <th data-orderable="false" id="GICthSpeciality">Speciality</th>
    <th data-orderable="false" id="GICthDivision" >Division</th>
    <th data-orderable="false" id="GICthDepartment" >Department</th>
    <th data-orderable="false" id="GICthFacility" >Facility</th>
    <th data-orderable="false" id="GICthQualifyingMeasure" >Qualifying Measure</th>
    <th data-orderable="false" id="GICthLastBillDate" >Last Bill Date</th>
    <th data-orderable="false" id="GICthAWVMeasurement" >AWV Measurement</th>   
    </tr>
    </thead>
    <tbody>
    <apex:repeat value="{!recievedPatientGICList}" var="resGIC">
    <tr width="100%" id="fields_data"  >
    <td data-title="Outreached">{!resGIC.outReached}</td>
    <td data-title="Patient Name">{!resGIC.patient_name}</td>
    <td data-title="Patient MRN"><a href="/apex/tst_AQRS_Comm_Log?patinet_MRNID={!URLENCODE(resGIC.patient_mrn)}&tab_active=GIC" >{!resGIC.patient_mrn}</a></td>
    <td data-title="Patient DOB">
    <span>
    <apex:outputText value="{0,date,YYYYMMDD}">
    <apex:param value="{!resGIC.patient_dob}" />
    </apex:outputText>
    </span>
    <apex:outputText value="{0,date,MM/dd/yyyy}">
    <apex:param value="{!resGIC.patient_dob}" />
    </apex:outputText>
    </td>
    <td data-title="Patient Gender" ><apex:outputText value="{!resGIC.patient_gender}" /></td>
    <td data-title="Preferred Communication Method" ><apex:outputText value="{!resGIC.preferred_communication_method}" /></td>
    <td data-title="Email address" ><apex:outputText value="{!resGIC.email_Address}" /></td>
    <td data-title="patient Homephone" ><apex:outputText value="{!resGIC.patient_home_phone}" /></td>
    <td data-title="Possible Actions Needed" ><apex:outputText value="{!resGIC.possible_actions_needed}" /></td>    
    <td data-title="Provider Name"  ><apex:outputText value="{!resGIC.provider_ID}" /></td>
    <td data-title="Measure Name"  ><apex:outputText value="{!resGIC.measure_Name}" /></td>
    <td data-title="Next Appointment Type"  ><apex:outputText value="{!resGIC.next_appointment_type}" /></td> 
    
    <td data-title="Last Appointment Date" id="GICtdLastAppointmentDate" ><apex:outputText value="{!resGIC.date_of_last_appointment}" /></td>
    <td data-title="Next Appointment Date" id="GICtdNextAppointmentDate" ><apex:outputText value="{!resGIC.date_of_next_appointment}" /></td>
    <td data-title="HCC Gaps" id="GICtdHCCGaps" ><apex:outputText value="{!resGIC.hcc}" /></td>
    <td data-title="Payer" id="GICtdPayor"><apex:outputText value="{!resGIC.payor_Name}" /></td>
    <td data-title="Address" id="GICtdAddress"><apex:outputText value="{!resGIC.patient_home_address}" /></td>
    <td data-title="Race" id="GICtdRace"><apex:outputText value="{!resGIC.patient_Race}" /></td> 

    <td data-title="Total Gaps" id="GICtdTotalGaps" ><apex:outputText value="{!resGIC.total_Gaps}" /></td>
    <td data-title="Last AWV Date" id="GICtdLastAWVDate" ><apex:outputText value="{!resGIC.last_awv_date }" /></td>
    <td data-title="Next Appointment Provider" id="GICtdNextAppointmentProvider" ><apex:outputText value="{!resGIC.next_appointment_provider }" /></td>
    <td data-title="Next Appointment Time" id="GICtdNextAppointmentTime" ><apex:outputText value="{!resGIC.next_Appointment_Time }" /></td>
    <td data-title="Population" id="GICtdPopulation" ><apex:outputText value="{!resGIC.population }" /></td>
    <td data-title="Speciality" id="GICtdSpeciality" ><apex:outputText value="{!resGIC.specialty }" /></td>
    <td data-title="Division" id="GICtdDivision" ><apex:outputText value="{!resGIC.division_name }" /></td>
    <td data-title="Department" id="GICtdDepartmentt" ><apex:outputText value="{!resGIC.department_Name }" /></td>
    <td data-title="Facility" id="GICtdFacility" ><apex:outputText value="{!resGIC.facility_ID }" /></td>
    <td data-title="Qualifying Measure" id="GICtdQualifyingMeasure" ><apex:outputText value="{!resGIC.qualifying_measure}" /></td>
    <td data-title="Last Bill Date" id="GICtdLastBillDate" ><apex:outputText value="{!resGIC.date_of_last_billed}" /></td>
    <td data-title="AWV Measurement" id="GICtdAWVMeasurement" ><apex:outputText value="{!resGIC.awv_measurement_this_year}" /></td>    
    </tr>
    </apex:repeat>
    </tbody>
    </table>
    </div>
    </div>
    </div>
    </div>
    </div>
    </apex:outputPanel>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </form>
    </div>
    <div class="modal fade" id="Addmorefields-modal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
    <div class="modal-content">
    <div class="modal-header" align="center">
    <span><b>View More Fields from Gaps In Care Table</b></span>
    <span><button type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
    </button></span>
    </div>
    <!-- Begin # DIV Form -->
    <div id="div-forms">
    <!-- Begin # Login Form -->
    <div class="modal-body">
    <div class="row" style="padding:0px 20px 0px 20px;">
    <div class="addfields_left">
    <div class="form-group">
    <select class="form-control fieldsselct" multiple="multiple" id="gicselect1">
    <option name="Date of Next Appointment" value="14/01/2018">Date of Next Appointment</option>
    <option name="Next Appointment Type" value="Mobile">Next Appointment Type</option>
    <option  name="Next Appointment Date" value="14/01/2018">Next Appointment Date</option>
    <option  name="Date of Last Appointment" value="10-09-2017">Date of Last Appointment</option>
    <option  name="HCC" value="HCC">HCC</option>
    <option  name="Qualifying Measures" value="BreastCancerScreening">Qualifying Measures</option>
    <option  name="AWV Measurement this year" value="AWV Scheduled">AWV Measurement this year</option>
    <option  name="Date of Last Billed" value="10-09-2017">Date of Last Billed</option>
    <option  name="Home Address" value="Yisrael Yisraeli, HaDoar 1/20, Jerusalem 1234567">Home Address</option>
    <option  name="Patient Race" value="White">Patient Race</option>
    <option  name="Speciality" value="Speciality">Speciality</option>
    </select>
    </div>
    </div>
    <div class="Rightandleft_btn">
    <div style="width: 25px;margin: auto;margin-top: 100px;">
    <button style="font-size:24px"> <i class="fa fa-angle-double-right" id="gicadd_fields"></i></button>
    <br/>
    <button style="font-size:24px"><i class="fa fa-angle-double-left" id="gicremove_fields"></i></button>
    </div>
    </div>
    <div class="addfields_right">
    <div class="form-group">
    <select class="form-control fieldsselct" multiple="multiple" id="gicselect2">
    </select>
    </div>
    </div>
    </div>
    </div>
    <div class="modal-footer">
    <div>
    <button id="cancebtn" type="button" class="btn searchbtn" data-dismiss="modal" style="margin-top:0px;">Cancel</button>
    <button id="gicsubmit_fields" type="button" class="btn searchbtn" data-dismiss="modal"  style="margin-top:0px;">Submit</button>
    </div>
    </div>
    <!-- End # Login Form -->
    <!-- End # DIV Form -->
    </div>
    </div>
    </div>
    </div>
    <!-- END # MODAL LOGIN -->
    <apex:outputPanel id="scriptPanel">
    <script type="text/javascript">
    function CloseAndRefresh(){
    window.opener.location.href="/{!$CurrentPage.parameters.PARAMNAME}";
    self.close();
    }
    function resetValue()
    { 

    $('#myModal').addClass('hidepopup');
    $('.modal-backdrop').removeClass('in');
    $('.modal-backdrop').removeClass('modal-backdrop');
    $('.modal-backdrop').removeClass('modal-dialog');
    var parentUl = document.getElementById("errorList");
    parentUl.innerHTML ='';
    $(".errorClass").css({"border-color":"#ccc"});
    $("#myform")[0].clear.click();


    }
    $(function() {
    $('.multiselect-ui').multiselect({
    includeSelectAllOption: true
    });
    $('.multiselect-ui1').multiselect({
    includeSelectAllOption: true
    });
    $('.multiselect-ui2').multiselect({
    includeSelectAllOption: true
    });
    $('.multiselect-ui3').multiselect({
    includeSelectAllOption: true
    });
    });

    function downloadCSV(csv, filename) {
    var csvFile;
    var downloadLink;

    // CSV file
    csvFile = new Blob([csv], {type: "text/csv"});

    // Download link
    downloadLink = document.createElement("a");

    // File name
    downloadLink.download = filename;

    // Create a link to the file
    downloadLink.href = window.URL.createObjectURL(csvFile);

    // Hide download link
    downloadLink.style.display = "none";

    // Add the link to DOM
    document.body.appendChild(downloadLink);

    // Click download link
    downloadLink.click();
    }

    function exportTableToCSV(filename) {
    var csv = [];
    var rows = document.querySelectorAll("#example tr");

    for (var i = 0; i < rows.length; i++) {
    var row = [], cols = rows[i].querySelectorAll("td, th");

    for (var j = 0; j < cols.length; j++) 
    row.push(cols[j].innerText);

    csv.push(row.join(","));        
    }

    // Download CSV file
    downloadCSV(csv.join("\n"), filename);
    }

    function exportTableToCSVGapsinCare(filename) {
    var csv = [];
    var rows = document.querySelectorAll("#gapsincare tr");

    for (var i = 0; i < rows.length; i++) {
    var row = [], cols = rows[i].querySelectorAll("td, th");

    for (var j = 0; j < cols.length; j++) 
    row.push(cols[j].innerText);

    csv.push(row.join(","));        
    }

    // Download CSV file
    downloadCSV(csv.join("\n"), filename);
    }
    function addURL(element)
    {
    $(element).attr('href', function() {
    return this.href +'&tab_active=PVP';
    });
    }
    function addURL1(element)
    {
    $(element).attr('href', function() {
    return this.href +'&tab_active=GIC';
    });
    }
    </script> 
    </apex:outputPanel>
    <apex:outputPanel id="pvvDatatable">            
    <script>

    var tablePVP = $('#example').DataTable( {
    //bFilter:     false,
    //bInfo:     true,
    //scrollX:        false,
    scrollCollapse: true,
    paging:         true,
    fixedColumns: false

    } );
    var table = $('#gapsincare').DataTable( {
    fixedHeader:true,
    // scrollX:        true,
    scrollCollapse: true,
    paging:         true,
    fixedColumns: false

    } ); 



    </script>



    </apex:outputPanel>
    <script>
    function hidePopup()
    {
    $('#Addmorefields-modal').modal('hide');
    var loc = window.location.href; 
    if(/GIC/.test(loc)) {
    document.getElementById("secondtable").style.display="block";
    document.getElementById("Previsitplanning").style.display="none";
    }
    if(/PVP/.test(url)) {
    document.getElementById("secondtable").style.display="none";
    document.getElementById("Previsitplanning").style.display="block";
    }
    }
    function showPopup()
    {
    $('#Addmorefields-modal').modal('show');
    }
    </script>
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/typeahead.bundle.min.js.download')}"/>
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/typeahead.jquery.js.download')}"/>
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/bootstrap-datepicker.js.download')}"/>
    <apex:includeScript value="{!URLFOR($Resource.AQRSCRM, 'LandingPage_files/PatDisp.js.download')}"/>
    <!-- BEGIN # BOOTSNIP INFO -->  
    <!-- END # BOOTSNIP INFO -->
    <ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content" id="ui-id-1" tabindex="0" style="display: none;"></ul>
    <span role="status" aria-live="assertive" aria-relevant="additions" class="ui-helper-hidden-accessible"></span>
    </body>
    </apex:form>
    </html>
    </apex:page>